{
    "title": "RIPA Stop Data (2018)",
    "description_html": "<b>Assembly Bill 953</b> requires each state and local agency in California that employs peace officers to annually report to the Attorney General data on all stops, as defined in <b>Government Code 12525.5(g)(2)</b>, conducted by the agency's peace officers. The bill requires the collected data to include specified information, including the time, identity, date and location of the stop, and the reason for the stop. The current dataset (RIPA Stop Data.csv)  is composed of data collected by the eight largest agencies in the state between July and December of 2018. README PDF can be found <a href='https://data-openjustice.doj.ca.gov/sites/default/files/dataset/2020-01/RIPA%20Dataset%20Read%20Me%2020200106.pdf'>here</a>",
    "license": "ODbL",
    "license_url": "https://opendatacommons.org/licenses/odbl/",
    "source": "Open Justice",
    "source_url": "https://openjustice.doj.ca.gov/data",
    "databases": {
        "ripa-2018-db": {
          "tables": {
            "aa_main_table": {
              "facets": ["AGENCY_NAME"]
            }
          },
          "queries": {
            "race_ethnicity_by_agency": {
                "sql": "SELECT b.AGENCY_NAME as agency_name, SUM(RAE_BLACK_AFRICAN_AMERICAN) as n_black, SUM(RAE_HISPANIC_LATINO) as n_latinx, SUM(RAE_ASIAN) as n_asian, SUM(RAE_WHITE) as n_white FROM race_ethnicity as racen INNER JOIN aa_main_table as b ON b.UNIQUE_ID = racen.UNIQUE_ID GROUP BY agency_name",
                "title": "Race / Ethnicity by Agency Name",
                "description_html": "Stops by race/ethnicity by agency."
            },
            "race_ethnicity_by_reason_for_stop": {
                "sql": "SELECT REASON_FOR_STOP, COUNT(REASON_FOR_STOP) as total_stops, SUM(RAE_BLACK_AFRICAN_AMERICAN) as n_black, SUM(RAE_HISPANIC_LATINO) as n_latinx,SUM(RAE_ASIAN) as n_asian,SUM(RAE_WHITE) as n_white, PRINTF('%.2f', SUM(RAE_BLACK_AFRICAN_AMERICAN)*1.0 / COUNT(REASON_FOR_STOP)) as share_black, PRINTF('%.2f', SUM(RAE_HISPANIC_LATINO)*1.0 / COUNT(REASON_FOR_STOP)) as share_latinx, PRINTF('%.2f', SUM(RAE_ASIAN)*1.0 / COUNT(REASON_FOR_STOP)) as share_asian, PRINTF('%.2f', SUM(RAE_WHITE)*1.0 / COUNT(REASON_FOR_STOP)) as share_white FROM aa_main_table as main INNER JOIN race_ethnicity as rae ON rae.UNIQUE_ID = main.UNIQUE_ID GROUP BY REASON_FOR_STOP",
                "title": "Race / Ethnicity by Reason for Stop",
                "description_html": "<table><thead><tr><th>Code</th><th>Definition</th></tr></thead><tbody><tr><td>1</td><td>Traffic Violation</td></tr><tr><td>2</td><td>Reasonable suspicion</td></tr><tr><td>3</td><td>Parole/probation/PRCS/mandatory supervision</td></tr><tr><td>4</td><td>Knowledge of outstanding arrest warrant/wanted person</td></tr><tr><td>5</td><td>Investigation to determine whether person was truant</td></tr><tr><td>6</td><td>Consensual encounter resulting in search</td></tr><tr><td>7</td><td>Possible conduct under Education Code</td></tr><tr><td>8</td><td>Determine whether student violated school policy</td></tr></tbody></table>"
            }
          }
        }
      },
    "extra_css_urls": [
        {
            "url": "https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css",
            "sri": "sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
        }
    ],
    "extra_js_urls": [
        {
            "url": "https://code.jquery.com/jquery-3.4.1.slim.min.js",
            "sri": "sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        },
        {
            "url": "https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js",
            "sri": "sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        },
        {
            "url": "https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js",
            "sri": "sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        }
    ]
}
